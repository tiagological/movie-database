{"version":3,"sources":["assets/images/empty-list-svg.svg","context/index.js","components/MovieCard.js","components/MovieList.js","util/session.js","services/session.js","assets/images/logo.svg","components/Header.js","components/Footer.js","components/Layout.js","components/NavMenu.js","components/Toast.js","screens/Home.js","screens/Movie.js","screens/SignUp.js","screens/Login.js","screens/Dashboard.js","util/routes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","GlobalContext","createContext","MovieCard","id","poster_path","base_url","to","pathname","StyledCard","ImageWrapper","OuterContainer","InnerContainer","Image","src","styled","div","img","MovieList","movieGroups","secure_base_url","renderedList","map","group","i","key","results","movie","title","Container","signup","user","fetch","method","body","JSON","stringify","headers","login","checkLoggedIn","a","response","json","preloadedState","session","addToWatchList","window","location","origin","removeFromWatchList","movieId","setErrors","setSession","setLoggedIn","apiUtil","data","ok","message","setIsLoggedIn","logout","setToastStatus","userId","username","isActive","type","fetchWatchList","setWatchList","catch","err","_extends","Object","assign","target","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","d","fill","_ref","svgRef","props","width","height","viewBox","ref","ForwardRef","forwardRef","Header","useContext","isLoggedIn","isMenuActive","setIsMenuActive","currentScreen","Nav","Placeholder","style","display","StyledLogo","DesktopLinksContainer","DesktopLink","DesktopLogoutButton","onClick","HamburgerContainer","HamburgerIconContainer","HamburgerIcon","header","nav","Logo","button","Footer","date","Date","Text","getFullYear","footer","span","Layout","children","Main","main","NavMenu","history","useHistory","navigateToRoute","route","push","LinkContainer","StyledLink","LogoutButton","Toast","toastStatus","defaultStatus","timerRef","useRef","useEffect","current","setTimeout","renderedIcon","SuccessIcon","ErrorIcon","renderIcon","TextContainer","CloseButton","clearTimeout","FaRegCheckCircle","FaExclamationTriangle","IoIosClose","Home","setCurrentScreen","movieBaseURL","getMovies","pageNum","axios","get","useInfiniteQuery","getFetchMore","lastGroup","allGroups","page","staleTime","refetchOnWindowFocus","moviesStatus","status","moviesData","isFetchingMore","isFetching","fetchMore","canFetchMore","LoaderContainer","color","Helmet","name","content","ButtonContainer","Button","disabled","isVisible","Movie","useParams","watchList","useState","movieInfo","setMovieInfo","isLoading","setIsLoading","movieIsInWatchList","setMovieIsInWatchList","imageURL","setImageURL","trailer","setTrailer","movie_id","videos","firstTrailer","find","video","toLowerCase","getMovieInfo","usePalette","colorData","colorError","loading","error","filter","handleAddToWatchList","runtime","release_date","handleRemoveFromWatchList","updatedWatchList","trailerURL","site","moviePoster","formattedDuration","Math","floor","releaseDate","releaseYear","MovieData","MovieInfoContainer","Title","Duration","Description","overview","MovieTrailerContainer","MovieTrailerOuterContainer","MovieTrailerInnerContainer","MovieTrailer","allowFullScreen","MovieDataContainer","lightVibrant","section","h2","p","iframe","SignUp","setUsername","email","setEmail","password","setPassword","isSubmitting","setSubmitting","errors","handleSubmit","e","preventDefault","value","submitButtonValue","ErrorText","Form","onSubmit","Label","Field","placeholder","onChange","required","Submit","LoginTextContainer","h1","form","label","input","Link","Login","SignUpTextContainer","Dashboard","watchListData","console","log","handleFetchWatchList","emptyListPlaceholder","EmptyListContainer","EmptyListPlaceHolder","emptyListImage","InnerImgContainer","alt","MovieTitle","watchListIsEmpty","UserContainer","UserAvatar","Username","WatchListTitle","WatchListContainer","h3","AiOutlineUser","AuthRoute","path","Component","component","loggedIn","render","ProtectedRoute","GlobalStyle","createGlobalStyle","App","setMovieBaseURL","checkLoggedInState","preLoadedState","getConfig","images","initialIsOpen","Provider","exact","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3e082825.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/empty-list-svg.cb61ac4f.svg\";","import { createContext } from 'react';\r\n\r\nconst GlobalContext = createContext();\r\n\r\nexport default GlobalContext;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components/macro';\r\n\r\nexport const MovieCard = ({ id, poster_path, base_url }) => {\r\n  return (\r\n    <Link\r\n      to={{\r\n        pathname: `/movie/${id}`,\r\n      }}>\r\n      <StyledCard>\r\n        <ImageWrapper>\r\n          <OuterContainer>\r\n            <InnerContainer>\r\n              <Image src={`${base_url}w342${poster_path}`} />\r\n            </InnerContainer>\r\n          </OuterContainer>\r\n        </ImageWrapper>\r\n      </StyledCard>\r\n    </Link>\r\n  );\r\n};\r\n\r\nconst StyledCard = styled.div`\r\n  width: 45vw;\r\n  margin: 1rem 0;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: 15vw;\r\n  }\r\n`;\r\n\r\nconst ImageWrapper = styled.div`\r\n  position: relative;\r\n`;\r\n\r\nconst OuterContainer = styled.div`\r\n  height: 0px;\r\n  width: 100%;\r\n  padding-bottom: 150%;\r\n  position: relative;\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n`;\r\n","import React, { Fragment } from 'react';\r\nimport { MovieCard } from './MovieCard';\r\nimport styled from 'styled-components/macro';\r\n\r\nexport const MovieList = ({ movieGroups, secure_base_url }) => {\r\n  const renderedList = movieGroups.map((group, i) => {\r\n    return (\r\n      <Fragment key={i}>\r\n        {group.results.map((movie) => {\r\n          const { id, title, poster_path } = movie;\r\n          const base_url = secure_base_url;\r\n\r\n          return (\r\n            <MovieCard\r\n              key={id}\r\n              title={title}\r\n              poster_path={poster_path}\r\n              base_url={base_url}\r\n              id={id}\r\n            />\r\n          );\r\n        })}\r\n      </Fragment>\r\n    );\r\n  });\r\n\r\n  return <Container>{renderedList}</Container>;\r\n};\r\n\r\nconst Container = styled.div`\r\n  padding: 0.75rem;\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(45vw, 45vw));\r\n  justify-content: space-evenly;\r\n  gap: 0.25rem;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    grid-template-columns: repeat(auto-fill, minmax(15vw, 15vw));\r\n  }\r\n`;\r\n","export const signup = (user) =>\r\n  fetch('api/users', {\r\n    method: 'POST',\r\n    body: JSON.stringify(user),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\nexport const login = (user) =>\r\n  fetch('api/session', {\r\n    method: 'POST',\r\n    body: JSON.stringify(user),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\nexport const logout = () =>\r\n  fetch(window.location.origin + '/api/session', { method: 'DELETE' });\r\n\r\nexport const checkLoggedIn = async () => {\r\n  const response = await fetch('/api/session');\r\n  const { user } = await response.json();\r\n  let preloadedState = {};\r\n  if (user) {\r\n    preloadedState = {\r\n      session: user,\r\n    };\r\n  }\r\n  return preloadedState;\r\n};\r\n\r\nexport const addToWatchList = (movie) =>\r\n  fetch(window.location.origin + '/api/watchlist/add', {\r\n    method: 'POST',\r\n    body: JSON.stringify(movie),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\nexport const removeFromWatchList = (movieId) =>\r\n  fetch(window.location.origin + '/api/watchlist/remove', {\r\n    method: 'POST',\r\n    body: JSON.stringify({ id: movieId }),\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  });\r\n\r\nexport const fetchWatchList = () =>\r\n  fetch(window.location.origin + '/api/watchlist/fetch');\r\n","import * as apiUtil from '../util/session';\r\n\r\nexport const login = async (user, setErrors, setSession, setLoggedIn) => {\r\n  const response = await apiUtil.login(user);\r\n  const data = await response.json();\r\n\r\n  if (response.ok) {\r\n    setErrors('');\r\n    setSession(data);\r\n    setLoggedIn(true);\r\n    return;\r\n  }\r\n  debugger;\r\n  setErrors(data.message);\r\n};\r\n\r\nexport const signup = async (user, setErrors, setSession, setIsLoggedIn) => {\r\n  const response = await apiUtil.signup(user);\r\n  const data = await response.json();\r\n\r\n  if (response.ok) {\r\n    setErrors('');\r\n    setSession(data);\r\n    setIsLoggedIn(true);\r\n    return;\r\n  }\r\n  setErrors(data.message);\r\n};\r\n\r\nexport const logout = async (\r\n  setSession,\r\n  setErrors,\r\n  setIsLoggedIn,\r\n  setToastStatus\r\n) => {\r\n  const response = await apiUtil.logout();\r\n  const data = await response.json();\r\n  if (response.ok) {\r\n    setSession({ userId: null, username: null });\r\n    setIsLoggedIn(false);\r\n    setToastStatus({\r\n      isActive: true,\r\n      type: 'success',\r\n      message: 'You have successfully logged out!',\r\n    });\r\n    return;\r\n  }\r\n  setErrors(data.message);\r\n};\r\n\r\nexport const fetchWatchList = async (setWatchList) => {\r\n  try {\r\n    const response = await apiUtil.fetchWatchList().catch((err) => {\r\n      throw err;\r\n    });\r\n    const data = await response.json();\r\n\r\n    if (response.ok) {\r\n      setWatchList(data);\r\n    }\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5.83398 9.81055L6.01855 12.292C7.59082 10.3643 9.7168 9.40039 12.3965 9.40039C15.2539 9.40039 17.2158 10.5283 18.2822 12.7842C19.8408 10.5283 22.0625 9.40039 24.9473 9.40039C27.3535 9.40039 29.1445 10.1045 30.3203 11.5127C31.4961 12.9072 32.084 15.0127 32.084 17.8291V32H26.1367V17.8496C26.1367 16.5918 25.8906 15.6758 25.3984 15.1016C24.9062 14.5137 24.0381 14.2197 22.7939 14.2197C21.0166 14.2197 19.7861 15.0674 19.1025 16.7627L19.123 32H13.1963V17.8701C13.1963 16.585 12.9434 15.6553 12.4375 15.0811C11.9316 14.5068 11.0703 14.2197 9.85352 14.2197C8.17188 14.2197 6.95508 14.917 6.20312 16.3115V32H0.276367V9.81055H5.83398ZM35.7344 20.7002C35.7344 18.499 36.1582 16.5371 37.0059 14.8145C37.8535 13.0918 39.0703 11.7588 40.6562 10.8154C42.2559 9.87207 44.1084 9.40039 46.2139 9.40039C49.208 9.40039 51.6484 10.3164 53.5352 12.1484C55.4355 13.9805 56.4951 16.4688 56.7139 19.6133L56.7549 21.1309C56.7549 24.5352 55.8047 27.2695 53.9043 29.334C52.0039 31.3848 49.4541 32.4102 46.2549 32.4102C43.0557 32.4102 40.499 31.3848 38.585 29.334C36.6846 27.2832 35.7344 24.4941 35.7344 20.9668V20.7002ZM41.6611 21.1309C41.6611 23.2363 42.0576 24.8496 42.8506 25.9707C43.6436 27.0781 44.7783 27.6318 46.2549 27.6318C47.6904 27.6318 48.8115 27.085 49.6182 25.9912C50.4248 24.8838 50.8281 23.1201 50.8281 20.7002C50.8281 18.6357 50.4248 17.0361 49.6182 15.9014C48.8115 14.7666 47.6768 14.1992 46.2139 14.1992C44.7646 14.1992 43.6436 14.7666 42.8506 15.9014C42.0576 17.0225 41.6611 18.7656 41.6611 21.1309ZM68.3828 24.7607L72.5049 9.81055H78.6982L71.2129 32H65.5527L58.0674 9.81055H64.2607L68.3828 24.7607ZM87.5781 32H81.6309V9.81055H87.5781V32ZM81.2822 4.06836C81.2822 3.17969 81.5762 2.44824 82.1641 1.87402C82.7656 1.2998 83.5791 1.0127 84.6045 1.0127C85.6162 1.0127 86.4229 1.2998 87.0244 1.87402C87.626 2.44824 87.9268 3.17969 87.9268 4.06836C87.9268 4.9707 87.6191 5.70898 87.0039 6.2832C86.4023 6.85742 85.6025 7.14453 84.6045 7.14453C83.6064 7.14453 82.7998 6.85742 82.1846 6.2832C81.583 5.70898 81.2822 4.9707 81.2822 4.06836ZM102.692 32.4102C99.4385 32.4102 96.7861 31.4121 94.7354 29.416C92.6982 27.4199 91.6797 24.7607 91.6797 21.4385V20.8643C91.6797 18.6357 92.1104 16.6465 92.9717 14.8965C93.833 13.1328 95.0498 11.7793 96.6221 10.8359C98.208 9.87891 100.013 9.40039 102.036 9.40039C105.071 9.40039 107.457 10.3574 109.193 12.2715C110.943 14.1855 111.818 16.8994 111.818 20.4131V22.833H97.6885C97.8799 24.2822 98.4541 25.4443 99.4111 26.3193C100.382 27.1943 101.605 27.6318 103.082 27.6318C105.365 27.6318 107.149 26.8047 108.435 25.1504L111.347 28.4111C110.458 29.6689 109.255 30.6533 107.737 31.3643C106.22 32.0615 104.538 32.4102 102.692 32.4102ZM102.016 14.1992C100.84 14.1992 99.8828 14.5957 99.1445 15.3887C98.4199 16.1816 97.9551 17.3164 97.75 18.793H105.994V18.3213C105.967 17.0088 105.611 15.9971 104.928 15.2861C104.244 14.5615 103.273 14.1992 102.016 14.1992ZM124.738 20.7412C124.738 17.2822 125.511 14.5273 127.056 12.4766C128.614 10.4258 130.74 9.40039 133.434 9.40039C135.594 9.40039 137.378 10.207 138.786 11.8203V0.5H144.733V32H139.381L139.094 29.6416C137.617 31.4873 135.717 32.4102 133.393 32.4102C130.781 32.4102 128.683 31.3848 127.097 29.334C125.524 27.2695 124.738 24.4053 124.738 20.7412ZM130.665 21.1719C130.665 23.25 131.027 24.8428 131.752 25.9502C132.477 27.0576 133.529 27.6113 134.91 27.6113C136.742 27.6113 138.034 26.8389 138.786 25.2939V16.5371C138.048 14.9922 136.77 14.2197 134.951 14.2197C132.094 14.2197 130.665 16.5371 130.665 21.1719ZM169.322 21.1104C169.322 24.665 168.563 27.4404 167.046 29.4365C165.528 31.4189 163.409 32.4102 160.688 32.4102C158.282 32.4102 156.361 31.4873 154.926 29.6416L154.659 32H149.327V0.5H155.254V11.7998C156.621 10.2002 158.419 9.40039 160.647 9.40039C163.354 9.40039 165.474 10.3984 167.005 12.3945C168.55 14.377 169.322 17.1729 169.322 20.7822V21.1104ZM163.396 20.6797C163.396 18.4375 163.04 16.8037 162.329 15.7783C161.618 14.7393 160.559 14.2197 159.15 14.2197C157.264 14.2197 155.965 14.9922 155.254 16.5371V25.2939C155.979 26.8525 157.291 27.6318 159.191 27.6318C161.105 27.6318 162.363 26.6885 162.965 24.8018C163.252 23.8994 163.396 22.5254 163.396 20.6797Z\",\n  fill: \"black\"\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 170,\n    height: 33,\n    viewBox: \"0 0 170 33\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.2a3111e5.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useContext } from 'react';\r\nimport GlobalContext from '../context';\r\nimport { Link } from 'react-router-dom';\r\nimport styled from 'styled-components/macro';\r\nimport { logout } from '../services/session';\r\nimport { ReactComponent as Logo } from '../assets/images/logo.svg';\r\n\r\nexport const Header = () => {\r\n  const {\r\n    isLoggedIn,\r\n    isMenuActive,\r\n    setIsMenuActive,\r\n    currentScreen,\r\n    setSession,\r\n    setErrors,\r\n    setIsLoggedIn,\r\n    setToastStatus\r\n  } = useContext(GlobalContext);\r\n\r\n  const toggleNavbar = () => {\r\n    setIsMenuActive(!isMenuActive);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout(setSession, setErrors, setIsLoggedIn, setToastStatus);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Nav>\r\n        <Placeholder />\r\n        <Link to='/' style={{ display: 'flex' }}>\r\n          <StyledLogo />\r\n        </Link>\r\n        <DesktopLinksContainer>\r\n          <DesktopLink to='/' isActive={currentScreen === 'home'}>\r\n            home\r\n          </DesktopLink>\r\n          {!isLoggedIn && (\r\n            <>\r\n              <DesktopLink to='/login' isActive={currentScreen === 'login'}>\r\n                login\r\n              </DesktopLink>\r\n              <DesktopLink to='/signup' isActive={currentScreen === 'signup'}>\r\n                sign up\r\n              </DesktopLink>\r\n            </>\r\n          )}\r\n          {isLoggedIn && (\r\n            <>\r\n              <DesktopLink\r\n                to='/dashboard'\r\n                isActive={currentScreen === 'dashboard'}>\r\n                dashboard\r\n              </DesktopLink>\r\n              <DesktopLogoutButton onClick={handleLogout}>\r\n                logout\r\n              </DesktopLogoutButton>\r\n            </>\r\n          )}\r\n        </DesktopLinksContainer>\r\n        <HamburgerContainer onClick={toggleNavbar}>\r\n          <HamburgerIconContainer isMenuActive={isMenuActive}>\r\n            <HamburgerIcon isMenuActive={isMenuActive} />\r\n          </HamburgerIconContainer>\r\n        </HamburgerContainer>\r\n      </Nav>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.header`\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-shrink: 0;\r\n  padding: 2rem 0;\r\n`;\r\n\r\nconst Nav = styled.nav`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    padding: 0 3rem;\r\n  }\r\n`;\r\n\r\nconst Placeholder = styled.div`\r\n  margin-right: auto;\r\n  width: 6rem;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst StyledLogo = styled(Logo)`\r\n  width: 15rem;\r\n  height: auto;\r\n  position: relative;\r\n  z-index: 20;\r\n\r\n  > path {\r\n    fill: #fff;\r\n  }\r\n`;\r\n\r\nconst DesktopLinksContainer = styled.div`\r\n  display: none;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left: auto;\r\n  }\r\n`;\r\n\r\nconst DesktopLink = styled(({ isActive, ...props }) => <Link {...props} />)`\r\n  margin-right: 2rem;\r\n  color: #fff;\r\n  font-family: 'Roboto';\r\n  font-size: 2rem;\r\n  position: relative;\r\n\r\n  ::after {\r\n    content: '';\r\n    display: block;\r\n    position: absolute;\r\n    bottom: -1rem;\r\n    border-radius: 10px;\r\n    height: 3px;\r\n    width: ${({ isActive }) => (isActive ? '100%' : 0)};\r\n    background: linear-gradient(90deg, paleturquoise, turquoise);\r\n    transition: 300ms ease;\r\n  }\r\n\r\n  :hover {\r\n    ::after {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst DesktopLogoutButton = styled.button`\r\n  margin-right: 2rem;\r\n  color: #fff;\r\n  font-family: 'Roboto';\r\n  font-size: 2rem;\r\n  position: relative;\r\n  background: transparent;\r\n  border: none;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst HamburgerContainer = styled.div`\r\n  position: relative;\r\n  z-index: 20;\r\n  height: auto;\r\n  width: 6rem;\r\n  margin-left: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n  @media only screen and (min-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst HamburgerIconContainer = styled.div`\r\n  width: 50%;\r\n  ::before,\r\n  ::after {\r\n    content: '';\r\n    display: block;\r\n    height: 2px;\r\n    margin: 10px 0;\r\n    background-color: #fff;\r\n    transition: all 200ms;\r\n  }\r\n  ::before {\r\n    transform: ${({ isMenuActive }) =>\r\n      isMenuActive ? 'translateY(12px) rotate(-45deg)' : 'rotate(0deg)'};\r\n  }\r\n  ::after {\r\n    transform: ${({ isMenuActive }) =>\r\n      isMenuActive ? 'translateY(-12px) rotate(45deg) ' : 'rotate(0deg)'};\r\n  }\r\n`;\r\n\r\nconst HamburgerIcon = styled.div`\r\n  height: 2px;\r\n  margin: 10px 0;\r\n  display: block;\r\n  background-color: #fff;\r\n  transform: ${({ isMenuActive }) => (isMenuActive ? 'scale(0)' : 'scale(1)')};\r\n  transition: all 200ms;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\nexport const Footer = () => {\r\n  const date = new Date();\r\n\r\n  return (\r\n    <Container>\r\n      <Text>Copyright &copy; {date.getFullYear()} Movie Database</Text>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.footer`\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 3rem 0;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Header, NavMenu, Footer } from '../components';\r\n\r\nexport const Layout = ({ children }) => {\r\n  return (\r\n    <Container>\r\n      <NavMenu />\r\n      <Header />\r\n      <Main>{children}</Main>\r\n      <Footer />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  min-height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Main = styled.main`\r\n  flex-grow: 1;\r\n  flex-shrink: 0;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    width: 100%;\r\n    margin: 0 auto;\r\n    border-radius: 5px;\r\n  }\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components/macro';\r\nimport GlobalContext from '../context';\r\nimport { logout } from '../services/session';\r\n\r\nexport const NavMenu = () => {\r\n  const {\r\n    isLoggedIn,\r\n    isMenuActive,\r\n    setIsMenuActive,\r\n    setSession,\r\n    setErrors,\r\n    setIsLoggedIn,\r\n    setToastStatus\r\n  } = useContext(GlobalContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const navigateToRoute = (route) => {\r\n    setIsMenuActive(!isMenuActive);\r\n    history.push(route);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logout(setSession, setErrors, setIsLoggedIn, setToastStatus);\r\n    setIsMenuActive(!isMenuActive);\r\n  };\r\n\r\n  return (\r\n    <Container isMenuActive={isMenuActive}>\r\n      <LinkContainer>\r\n        <StyledLink onClick={() => navigateToRoute('/')}>home</StyledLink>\r\n        {!isLoggedIn && (\r\n          <>\r\n            <StyledLink onClick={() => navigateToRoute('/login')}>\r\n              login\r\n            </StyledLink>\r\n            <StyledLink onClick={() => navigateToRoute('/signup')}>\r\n              sign up\r\n            </StyledLink>\r\n          </>\r\n        )}\r\n        {isLoggedIn && (\r\n          <>\r\n            <StyledLink onClick={() => navigateToRoute('/dashboard')}>\r\n              dashboard\r\n            </StyledLink>\r\n            <LogoutButton onClick={handleLogout}>log out</LogoutButton>\r\n          </>\r\n        )}\r\n      </LinkContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  visibility: ${({ isMenuActive }) => (isMenuActive ? 'visible' : 'hidden')};\r\n  opacity: ${({ isMenuActive }) => (isMenuActive ? 1 : 0)};\r\n  height: 100vh;\r\n  width: 100%;\r\n  padding-top: 8.6rem;\r\n  background-color: #000;\r\n  color: #fff;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 10;\r\n  transition: 300ms ease;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst LinkContainer = styled.div`\r\n  margin-top: -8.6rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst StyledLink = styled.button`\r\n  margin: 2rem 0;\r\n  font-size: 2.5rem;\r\n  background: transparent;\r\n  border: none;\r\n  color: #fff;\r\n  outline: none;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst LogoutButton = styled.button`\r\n  margin: 2rem 0;\r\n  color: #fff;\r\n  font-family: 'Roboto';\r\n  font-size: 2.5rem;\r\n  position: relative;\r\n  background: transparent;\r\n  border: none;\r\n  outline: none;\r\n`;\r\n","import React, { useContext, useEffect, useRef } from 'react';\r\nimport GlobalContext from '../context';\r\nimport styled from 'styled-components/macro';\r\nimport { FaRegCheckCircle, FaExclamationTriangle } from 'react-icons/fa';\r\nimport { IoIosClose } from 'react-icons/io';\r\n\r\nexport const Toast = () => {\r\n  const {\r\n    toastStatus: { isActive, type, message },\r\n    setToastStatus,\r\n  } = useContext(GlobalContext);\r\n\r\n  const defaultStatus = {\r\n    isActive: false,\r\n    type: null,\r\n    message: null,\r\n  };\r\n\r\n  // save ref to original timer\r\n\r\n  const timerRef = useRef(null);\r\n\r\n  const setExitTimer = () => {\r\n    timerRef.current = setTimeout(() => setToastStatus(defaultStatus), 5000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isActive) {\r\n      setExitTimer();\r\n    }\r\n  }, [isActive]);\r\n\r\n  const closeButtonHandler = () => {\r\n    if (timerRef.current) {\r\n      clearTimeout(timerRef.current);\r\n    }\r\n    setToastStatus(defaultStatus);\r\n  };\r\n\r\n  const renderIcon = (type) => {\r\n    switch (type) {\r\n      case 'success':\r\n        return <SuccessIcon />;\r\n      case 'error':\r\n        return <ErrorIcon />;\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderedIcon = renderIcon(type);\r\n\r\n  return (\r\n    <Container isActive={isActive}>\r\n      {renderedIcon}\r\n      <TextContainer>\r\n        <Text>{message}</Text>\r\n      </TextContainer>\r\n      <CloseButton onClick={closeButtonHandler} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  position: absolute;\r\n  bottom: ${({ isActive }) => (isActive ? '1rem' : '-10rem')};\r\n  visibility: ${({ isActive }) => (isActive ? 'visible' : 'hidden')};\r\n  left: 0;\r\n  right: 0;\r\n  margin: 0 auto;\r\n  background: turquoise;\r\n  color: #fff;\r\n  width: 90%;\r\n  min-height: 6rem;\r\n  border-radius: 8px;\r\n  z-index: 20;\r\n  transition: 300ms ease-in-out;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    padding: 0 1rem;\r\n  }\r\n`;\r\n\r\nconst SuccessIcon = styled(FaRegCheckCircle)`\r\n  flex-shrink: 0;\r\n  height: 3rem;\r\n  width: auto;\r\n  margin: 0 auto 0 1rem;\r\n`;\r\n\r\nconst TextContainer = styled.div`\r\n  padding: 1rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst Text = styled.span`\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n`;\r\n\r\nconst ErrorIcon = styled(FaExclamationTriangle)`\r\n  height: 3rem;\r\n  width: auto;\r\n  margin: 0 auto 0 1rem;\r\n`;\r\n\r\nconst CloseButton = styled(IoIosClose)`\r\n  flex-shrink: 0;\r\n  align-self: flex-start;\r\n  margin-left: auto;\r\n  height: 3rem;\r\n  width: auto;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useEffect, useContext } from 'react';\r\nimport GlobalContext from '../context';\r\nimport styled from 'styled-components/macro';\r\nimport { Layout, MovieList } from '../components';\r\nimport axios from 'axios';\r\nimport { useQuery, useInfiniteQuery } from 'react-query';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\nimport Helmet from 'react-helmet';\r\n\r\nexport const Home = () => {\r\n  const { setCurrentScreen, movieBaseURL } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    setCurrentScreen('home');\r\n  }, []);\r\n\r\n  const getMovies = async (key, pageNum = 1) => {\r\n    const response = await axios.get(`/api/movies?page=${pageNum}`);\r\n    return response.data;\r\n  };\r\n\r\n  const {\r\n    status: moviesStatus,\r\n    data: moviesData,\r\n    isFetching: isFetchingMovies,\r\n    isFetchingMore,\r\n    fetchMore,\r\n    canFetchMore\r\n  } = useInfiniteQuery('movies', getMovies, {\r\n    getFetchMore: (lastGroup, allGroups) => lastGroup.page + 1,\r\n    staleTime: 1000 * 60 * 30,\r\n    refetchOnWindowFocus: false\r\n  });\r\n\r\n  if (moviesStatus === 'loading') {\r\n    return (\r\n      <Container>\r\n        <LoaderContainer>\r\n          <MoonLoader color='#fff' css='opacity: 1;' />\r\n        </LoaderContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Helmet>\r\n        <title>Home | Movie DB</title>\r\n        <meta\r\n          name='description'\r\n          content='Explore the most popular movies right now. Create an account to add your favourites to your watchlist.'\r\n        />\r\n      </Helmet>\r\n      <Layout>\r\n        {movieBaseURL && moviesData && (\r\n          <MovieList movieGroups={moviesData} secure_base_url={movieBaseURL} />\r\n        )}\r\n        <ButtonContainer>\r\n          <Button\r\n            onClick={() => fetchMore()}\r\n            disabled={isFetchingMore}\r\n            isVisible={!!moviesData}>\r\n            Load More\r\n          </Button>\r\n        </ButtonContainer>\r\n      </Layout>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 1) 75%,\r\n    rgba(98, 98, 98, 1) 100%\r\n  );\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n`;\r\n\r\nconst LoaderContainer = styled.div`\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  margin: 2rem;\r\n  padding: 1.5rem;\r\n  font-size: 2rem;\r\n  background: transparent;\r\n  color: #fff;\r\n  border: 1px solid white;\r\n  border-radius: 8px;\r\n  opacity: ${({ isFetchingMore, isVisible }) =>\r\n    !isVisible ? 0 : isFetchingMore && isVisible ? 0.5 : 1};\r\n\r\n  :hover {\r\n    cursor: ${({ isFetchingMore }) =>\r\n      isFetchingMore ? 'not-allowed' : 'pointer'};\r\n  }\r\n\r\n  :focus {\r\n    outline: 3px solid turquoise;\r\n  }\r\n`;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport GlobalContext from '../context';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport styled from 'styled-components/macro';\r\nimport { Layout } from '../components';\r\nimport { addToWatchList, removeFromWatchList } from '../util/session';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\nimport { usePalette } from 'react-palette';\r\nimport Helmet from 'react-helmet';\r\n\r\nexport const Movie = () => {\r\n  const { movieId } = useParams();\r\n  const {\r\n    movieBaseURL,\r\n    isLoggedIn,\r\n    watchList,\r\n    setWatchList,\r\n    setToastStatus,\r\n    setCurrentScreen\r\n  } = useContext(GlobalContext);\r\n\r\n  const [movieInfo, setMovieInfo] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [movieIsInWatchList, setMovieIsInWatchList] = useState(false);\r\n  const [imageURL, setImageURL] = useState(null);\r\n  const [trailer, setTrailer] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setCurrentScreen('movie');\r\n  }, []);\r\n\r\n  // get movie info\r\n\r\n  useEffect(() => {\r\n    const getMovieInfo = async (movie_id) => {\r\n      const response = await axios.get(`/api/movies/movie/${movie_id}`);\r\n\r\n      const { data } = response;\r\n      const { videos } = data;\r\n      const firstTrailer = videos.find(\r\n        (video) => video.type.toLowerCase() === 'trailer'\r\n      );\r\n      setMovieInfo(data);\r\n      setTrailer(firstTrailer);\r\n    };\r\n\r\n    getMovieInfo(movieId);\r\n  }, [movieId]);\r\n\r\n  useEffect(() => {\r\n    if (movieBaseURL && movieInfo) {\r\n      setImageURL(`${movieBaseURL}w342${movieInfo.poster_path}`);\r\n      setIsLoading(false);\r\n    }\r\n  }, [movieBaseURL, movieInfo]);\r\n\r\n  const { data: colorData, loading, error: colorError } = usePalette(imageURL);\r\n\r\n  // check if movie is on user watch list\r\n\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      const filteredMovies = watchList.filter((movie) => movie.id == movieId);\r\n\r\n      if (filteredMovies.length > 0) {\r\n        setMovieIsInWatchList(true);\r\n      } else {\r\n        setMovieIsInWatchList(false);\r\n      }\r\n    }\r\n  }, [watchList]);\r\n\r\n  const handleAddToWatchList = async () => {\r\n    if (!isLoggedIn) {\r\n      return setToastStatus({\r\n        isActive: true,\r\n        type: 'error',\r\n        message: 'Please log in to add to your watch list'\r\n      });\r\n    }\r\n    const { id, title, poster_path, runtime, release_date } = movieInfo;\r\n    const movie = {\r\n      id,\r\n      title,\r\n      poster_path,\r\n      runtime,\r\n      release_date\r\n    };\r\n    const response = await addToWatchList(movie);\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      setToastStatus({\r\n        isActive: true,\r\n        type: 'success',\r\n        message: 'Added to watch list!'\r\n      });\r\n      setWatchList([...watchList, data]);\r\n      return;\r\n    }\r\n    return setToastStatus({\r\n      isActive: true,\r\n      type: 'error',\r\n      message: data.message\r\n    });\r\n  };\r\n\r\n  const handleRemoveFromWatchList = async () => {\r\n    if (!isLoggedIn) {\r\n      return setToastStatus({\r\n        isActive: true,\r\n        type: 'error',\r\n        message: 'Please log in to remove from your watch list'\r\n      });\r\n    }\r\n    const { id } = movieInfo;\r\n    const response = await removeFromWatchList(id);\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      setToastStatus({\r\n        isActive: true,\r\n        type: 'success',\r\n        message: 'Removed from watch list'\r\n      });\r\n      const updatedWatchList = watchList.filter((movie) => movie.id !== id);\r\n      setWatchList(updatedWatchList);\r\n      return;\r\n    }\r\n    return setToastStatus({\r\n      isActive: true,\r\n      type: 'error',\r\n      message: data.message\r\n    });\r\n  };\r\n\r\n  const handleMovieOperation = () => {\r\n    if (movieIsInWatchList) {\r\n      handleRemoveFromWatchList();\r\n    } else {\r\n      handleAddToWatchList();\r\n    }\r\n  };\r\n\r\n  const trailerURL =\r\n    trailer?.site?.toLowerCase() === 'youtube'\r\n      ? `https://www.youtube.com/embed/${trailer.key}`\r\n      : null;\r\n\r\n  const moviePoster = movieInfo && (\r\n    <ImageWrapper>\r\n      <OuterContainer>\r\n        <InnerContainer>\r\n          <Image src={`${movieBaseURL}w342${movieInfo?.poster_path}`} />\r\n        </InnerContainer>\r\n      </OuterContainer>\r\n    </ImageWrapper>\r\n  );\r\n\r\n  const formattedDuration =\r\n    movieInfo &&\r\n    `${Math.floor(movieInfo.runtime / 60)}${\r\n      movieInfo.runtime / 60 > 2 ? 'hrs' : 'hr'\r\n    } ${movieInfo.runtime % 60} mins`;\r\n\r\n  const releaseDate = new Date(movieInfo?.release_date);\r\n\r\n  const releaseYear = releaseDate?.getFullYear();\r\n\r\n  const MovieData = movieInfo && (\r\n    <MovieInfoContainer>\r\n      <Title>\r\n        {movieInfo.title} {`(${releaseYear})`}\r\n      </Title>\r\n      <Duration>{formattedDuration}</Duration>\r\n      <Description>{movieInfo.overview}</Description>\r\n      {trailerURL && (\r\n        <MovieTrailerContainer>\r\n          <MovieTrailerOuterContainer>\r\n            <MovieTrailerInnerContainer>\r\n              <MovieTrailer src={trailerURL} allowFullScreen loading='lazy' />\r\n            </MovieTrailerInnerContainer>\r\n          </MovieTrailerOuterContainer>\r\n        </MovieTrailerContainer>\r\n      )}\r\n      <ButtonContainer>\r\n        <Button onClick={handleMovieOperation}>{`${\r\n          movieIsInWatchList ? 'Remove from' : 'Add to'\r\n        } watchlist`}</Button>\r\n      </ButtonContainer>\r\n    </MovieInfoContainer>\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container>\r\n        <LoaderContainer>\r\n          <MoonLoader color='#fff' css='opacity: 1;' />\r\n        </LoaderContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container colorData={colorData} colorError={colorError}>\r\n      <Helmet>\r\n        <title>{`${movieInfo?.title} | Movie DB`}</title>\r\n        <meta\r\n          name='description'\r\n          content={`Find out more about ${movieInfo?.title}, watch the trailer, and add it to your watchlist!`}\r\n        />\r\n      </Helmet>\r\n      <Layout>\r\n        <MovieDataContainer>\r\n          {moviePoster}\r\n          {MovieData}\r\n        </MovieDataContainer>\r\n      </Layout>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: #000;\r\n  background: ${({ colorData, colorError }) =>\r\n    colorData && !colorError\r\n      ? `linear-gradient(0deg,#000, ${colorData.lightVibrant})`\r\n      : `linear-gradient(0deg, rgba(0, 0, 0, 1) 0%,rgba(0, 0, 0, 1) 75%,rgba(98, 98, 98, 1) 100%)`};\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n`;\r\n\r\nconst MovieDataContainer = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  color: #fff;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    flex-direction: row;\r\n    align-items: flex-start;\r\n    padding: 0 5rem;\r\n  }\r\n`;\r\n\r\nconst ImageWrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  padding: 1rem;\r\n  margin: 0 2rem;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: auto;\r\n    flex-shrink: 0;\r\n  }\r\n`;\r\n\r\nconst OuterContainer = styled.div`\r\n  height: 0px;\r\n  width: 100%;\r\n  padding-bottom: 150%;\r\n  position: relative;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  box-shadow: 0 0 10px 1px rgba(0, 0, 0, 0.9);\r\n`;\r\n\r\nconst MovieInfoContainer = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: stretch;\r\n  margin: 0 2rem;\r\n`;\r\n\r\nconst Title = styled.h2``;\r\n\r\nconst Description = styled.p``;\r\n\r\nconst Duration = styled.span``;\r\n\r\nconst ButtonContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  margin: 1rem 0;\r\n  padding: 1.5rem 0;\r\n  font-size: 20px;\r\n  background: transparent;\r\n  color: #fff;\r\n  border: 1px solid white;\r\n  border-radius: 8px;\r\n  outline: none;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    max-width: 400px;\r\n  }\r\n`;\r\n\r\nconst LoaderContainer = styled.div`\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst MovieTrailerContainer = styled.div`\r\n  margin: 2rem 0;\r\n  width: 100%;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nconst MovieTrailerOuterContainer = styled.div`\r\n  height: 0px;\r\n  width: 100%;\r\n  padding-bottom: 62.5%;\r\n  position: relative;\r\n`;\r\n\r\nconst MovieTrailerInnerContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst MovieTrailer = styled.iframe`\r\n  height: 100%;\r\n  width: 100%;\r\n  border: none;\r\n  border-radius: 8px;\r\n`;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport GlobalContext from '../context';\r\nimport { Link } from 'react-router-dom';\r\nimport { Layout } from '../components';\r\nimport styled from 'styled-components';\r\nimport { signup } from '../services/session';\r\nimport Helmet from 'react-helmet';\r\n\r\nexport const SignUp = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n  const {\r\n    errors,\r\n    setErrors,\r\n    setSession,\r\n    setCurrentScreen,\r\n    setIsLoggedIn\r\n  } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    setCurrentScreen('signup');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (errors) {\r\n      setErrors('');\r\n    }\r\n  }, []);\r\n\r\n  const clearForm = () => {\r\n    setUsername('');\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    setSubmitting(true);\r\n    e.preventDefault();\r\n    const user = {\r\n      username: e.target[0].value,\r\n      email: e.target[1].value,\r\n      password: e.target[2].value\r\n    };\r\n    await signup(user, setErrors, setSession, setIsLoggedIn);\r\n    clearForm();\r\n    setSubmitting(false);\r\n  };\r\n\r\n  const submitButtonValue = isSubmitting ? 'Submitting...' : 'Submit';\r\n\r\n  return (\r\n    <Container>\r\n      <Helmet>\r\n        <title>Sign Up | Movie DB</title>\r\n        <meta\r\n          name='description'\r\n          content='Sign up and create an account to start adding to your watchlist!'\r\n        />\r\n      </Helmet>\r\n      <Layout>\r\n        <InnerContainer>\r\n          <Title>Sign Up</Title>\r\n          <ErrorText>{errors}</ErrorText>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Label>\r\n              <Field\r\n                type='text'\r\n                name='username'\r\n                placeholder='Username'\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required\r\n              />\r\n            </Label>\r\n            <Label>\r\n              <Field\r\n                type='email'\r\n                name='email'\r\n                placeholder='Email'\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n            </Label>\r\n            <Label>\r\n              <Field\r\n                type='password'\r\n                name='password'\r\n                placeholder='Password'\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n            </Label>\r\n            <Submit\r\n              type='submit'\r\n              value={submitButtonValue}\r\n              disabled={isSubmitting}\r\n              isSubmitting={isSubmitting}\r\n            />\r\n          </Form>\r\n          <LoginTextContainer>\r\n            Already have an account? <StyledLink to='/login'>Login</StyledLink>\r\n          </LoginTextContainer>\r\n        </InnerContainer>\r\n      </Layout>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 1) 75%,\r\n    rgba(98, 98, 98, 1) 100%\r\n  );\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n  color: #fff;\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: 768px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  font-weight: initial;\r\n`;\r\n\r\nconst ErrorText = styled.p`\r\n  padding: 10px;\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Field = styled.input`\r\n  height: 5rem;\r\n  border: 3px solid #fff;\r\n  outline: none;\r\n  font-size: 2rem;\r\n  padding: 0 1rem;\r\n\r\n  :focus {\r\n    border: 3px solid turquoise;\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst Submit = styled.input`\r\n  margin: 2rem;\r\n  padding: 1.5rem 0;\r\n  font-size: 2rem;\r\n  background: transparent;\r\n  color: #fff;\r\n  border: 1px solid white;\r\n  border-radius: 8px;\r\n  opacity: ${({ isSubmitting }) => (isSubmitting ? 0.5 : 1)};\r\n\r\n  :hover {\r\n    cursor: ${({ isSubmitting }) => (isSubmitting ? 'not-allowed' : 'pointer')};\r\n  }\r\n\r\n  :focus {\r\n    outline: 3px solid turquoise;\r\n  }\r\n`;\r\n\r\nconst LoginTextContainer = styled.div`\r\n  margin: 2rem 0;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  font-size: 2rem;\r\n  text-decoration: underline;\r\n\r\n  :hover {\r\n    text-decoration-color: turquoise;\r\n    color: turquoise;\r\n  }\r\n`;\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport GlobalContext from '../context';\r\nimport { Link } from 'react-router-dom';\r\nimport { Layout } from '../components';\r\nimport styled from 'styled-components/macro';\r\nimport { login } from '../services/session';\r\nimport Helmet from 'react-helmet';\r\n\r\nexport const Login = () => {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isSubmitting, setSubmitting] = useState(false);\r\n\r\n  const {\r\n    errors,\r\n    setErrors,\r\n    setSession,\r\n    setIsLoggedIn,\r\n    setCurrentScreen\r\n  } = useContext(GlobalContext);\r\n\r\n  useEffect(() => {\r\n    setCurrentScreen('login');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (errors) {\r\n      setErrors('');\r\n    }\r\n  }, []);\r\n\r\n  const clearForm = () => {\r\n    setEmail('');\r\n    setPassword('');\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    setSubmitting(true);\r\n    e.preventDefault();\r\n    const user = {\r\n      email: e.target[0].value,\r\n      password: e.target[1].value\r\n    };\r\n    await login(user, setErrors, setSession, setIsLoggedIn);\r\n    clearForm();\r\n    setSubmitting(false);\r\n  };\r\n\r\n  const submitButtonValue = isSubmitting ? 'Logging in...' : 'Log in';\r\n\r\n  return (\r\n    <Container>\r\n      <Helmet>\r\n        <title>Login | Movie DB</title>\r\n        <meta\r\n          name='description'\r\n          content='Log in to your account to start adding to your watchlist!'\r\n        />\r\n      </Helmet>\r\n      <Layout>\r\n        <InnerContainer>\r\n          <Title>Log In</Title>\r\n          <ErrorText>{errors}</ErrorText>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Label>\r\n              <Field\r\n                type='email'\r\n                name='email'\r\n                placeholder='Email'\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n            </Label>\r\n            <Label>\r\n              <Field\r\n                type='password'\r\n                name='password'\r\n                placeholder='Password'\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n              />\r\n            </Label>\r\n            <Submit\r\n              type='submit'\r\n              value={submitButtonValue}\r\n              disabled={isSubmitting}\r\n              isSubmitting={isSubmitting}\r\n            />\r\n          </Form>\r\n          <SignUpTextContainer>\r\n            {`Don't yet have an account? `}\r\n            <StyledLink to='/signup'>Sign Up</StyledLink>\r\n          </SignUpTextContainer>\r\n        </InnerContainer>\r\n      </Layout>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 1) 75%,\r\n    rgba(98, 98, 98, 1) 100%\r\n  );\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n  color: #fff;\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: 768px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  text-align: center;\r\n  font-weight: initial;\r\n`;\r\n\r\nconst ErrorText = styled.p`\r\n  padding: 10px;\r\n  color: red;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Label = styled.label`\r\n  margin: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n`;\r\n\r\nconst Field = styled.input`\r\n  height: 5rem;\r\n  border: 3px solid #fff;\r\n  outline: none;\r\n  font-size: 2rem;\r\n  padding: 0 1rem;\r\n\r\n  :focus {\r\n    border: 3px solid turquoise;\r\n    outline: none;\r\n  }\r\n`;\r\n\r\nconst Submit = styled.input`\r\n  margin: 2rem;\r\n  padding: 1.5rem 0;\r\n  font-size: 2rem;\r\n  background: transparent;\r\n  color: #fff;\r\n  border: 1px solid white;\r\n  border-radius: 8px;\r\n  opacity: ${({ isSubmitting }) => (isSubmitting ? 0.5 : 1)};\r\n\r\n  :hover {\r\n    cursor: ${({ isSubmitting }) => (isSubmitting ? 'not-allowed' : 'pointer')};\r\n  }\r\n\r\n  :focus {\r\n    outline: 3px solid turquoise;\r\n  }\r\n`;\r\n\r\nconst SignUpTextContainer = styled.div`\r\n  margin: 2rem 0;\r\n  font-size: 2rem;\r\n  text-align: center;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  font-size: 2rem;\r\n  text-decoration: underline;\r\n\r\n  :hover {\r\n    text-decoration-color: turquoise;\r\n    color: turquoise;\r\n  }\r\n`;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport GlobalContext from '../context';\r\nimport styled from 'styled-components/macro';\r\nimport { Layout } from '../components';\r\nimport { logout, fetchWatchList } from '../services/session';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\nimport emptyListImage from '../assets/images/empty-list-svg.svg';\r\nimport { AiOutlineUser } from 'react-icons/ai';\r\nimport { Link } from 'react-router-dom';\r\nimport Helmet from 'react-helmet';\r\n\r\nexport const Dashboard = () => {\r\n  const {\r\n    session,\r\n    setSession,\r\n    setErrors,\r\n    watchList: watchListData,\r\n    setWatchList,\r\n    movieBaseURL,\r\n    setIsLoggedIn,\r\n    setCurrentScreen,\r\n    setToastStatus\r\n  } = useContext(GlobalContext);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setCurrentScreen('dashboard');\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleFetchWatchList = async () => {\r\n      await fetchWatchList(setWatchList).catch((err) => console.log(err));\r\n      setIsLoading(false);\r\n    };\r\n    handleFetchWatchList();\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    logout(setSession, setErrors, setIsLoggedIn, setToastStatus);\r\n  };\r\n\r\n  const emptyListPlaceholder = (\r\n    <EmptyListContainer>\r\n      <EmptyListPlaceHolder src={emptyListImage} />\r\n      <Text>Your watch list is currently empty</Text>\r\n    </EmptyListContainer>\r\n  );\r\n\r\n  const watchList = watchListData.map((movie) => {\r\n    const formattedDuration = `${Math.floor(movie.runtime / 60)}${\r\n      movie.runtime / 60 > 1 ? 'hrs' : 'hr'\r\n    } ${movie.runtime % 60} mins`;\r\n\r\n    return (\r\n      <Link to={`/movie/${movie.id}`} key={movie.id}>\r\n        <MovieDataContainer>\r\n          <ImageWrapper>\r\n            <OuterContainer>\r\n              <InnerImgContainer>\r\n                <Image\r\n                  src={`${movieBaseURL}w342${movie.poster_path}`}\r\n                  alt={movie.title}\r\n                />\r\n              </InnerImgContainer>\r\n            </OuterContainer>\r\n          </ImageWrapper>\r\n          <MovieInfoContainer>\r\n            <MovieTitle>{movie.title}</MovieTitle>\r\n            <Duration>{formattedDuration}</Duration>\r\n          </MovieInfoContainer>\r\n        </MovieDataContainer>\r\n      </Link>\r\n    );\r\n  });\r\n\r\n  const watchListIsEmpty = watchList.length === 0;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container>\r\n        <LoaderContainer>\r\n          <MoonLoader color='#fff' />\r\n        </LoaderContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Helmet>\r\n        <title>Dashboard | Movie DB</title>\r\n      </Helmet>\r\n      <Layout>\r\n        <InnerContainer>\r\n          <UserContainer>\r\n            <UserAvatar />\r\n            <Username>{session.username}</Username>\r\n          </UserContainer>\r\n          {watchListIsEmpty ? (\r\n            emptyListPlaceholder\r\n          ) : (\r\n            <>\r\n              <WatchListTitle>Watchlist</WatchListTitle>\r\n              <WatchListContainer>{watchList}</WatchListContainer>\r\n            </>\r\n          )}\r\n          <Button onClick={handleLogout}>Logout</Button>\r\n        </InnerContainer>\r\n      </Layout>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst EmptyListContainer = styled.div`\r\n  width: 100%;\r\n  padding: 0 2rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst EmptyListPlaceHolder = styled.img`\r\n  width: 100%;\r\n  height: auto;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    width: 40rem;\r\n  }\r\n`;\r\n\r\nconst Text = styled.span`\r\n  margin: 3rem 0;\r\n`;\r\n\r\nconst WatchListTitle = styled.h2`\r\n  padding: 0 3rem;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst WatchListContainer = styled.section`\r\n  @media screen and (min-width: 1024px) {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(15vw, 15vw));\r\n    justify-content: space-between;\r\n    gap: 3rem;\r\n  }\r\n`;\r\n\r\nconst MovieDataContainer = styled.div`\r\n  display: flex;\r\n  justify-content: flex-start;\r\n  align-items: flex-start;\r\n  color: #fff;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nconst ImageWrapper = styled.div`\r\n  position: relative;\r\n  width: auto;\r\n  flex-shrink: 0;\r\n  padding: 1rem 0;\r\n  margin: 0 2rem;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    margin: 0;\r\n    padding: 0;\r\n  }\r\n`;\r\n\r\nconst OuterContainer = styled.div`\r\n  height: 0px;\r\n  width: 25vw;\r\n  padding-bottom: 150%;\r\n  position: relative;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    width: 15vw;\r\n  }\r\n`;\r\n\r\nconst InnerImgContainer = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  height: 100%;\r\n  width: 100%;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  height: 100%;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst MovieInfoContainer = styled.section`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-start;\r\n  align-items: stretch;\r\n  margin: 0 2rem;\r\n\r\n  @media only screen and (min-width: 1024px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nconst MovieTitle = styled.h3``;\r\n\r\nconst Duration = styled.span``;\r\n\r\nconst Container = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 1) 75%,\r\n    rgba(98, 98, 98, 1) 100%\r\n  );\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n  color: #fff;\r\n`;\r\n\r\nconst LoaderContainer = styled.div`\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nconst InnerContainer = styled.div`\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n\r\n  @media screen and (min-width: 1024px) {\r\n    width: 768px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n`;\r\n\r\nconst UserContainer = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\nconst UserAvatar = styled(AiOutlineUser)`\r\n  color: #fff;\r\n  width: 10rem;\r\n  height: auto;\r\n`;\r\n\r\nconst Username = styled.span`\r\n  text-align: center;\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n  margin: 1rem 0;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  margin: 2rem;\r\n  padding: 1.5rem 0;\r\n  font-size: 2rem;\r\n  background: transparent;\r\n  border: 1px solid white;\r\n  border-radius: 8px;\r\n  color: #fff;\r\n\r\n  :hover {\r\n    cursor: pointer;\r\n  }\r\n`;\r\n","import React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport GlobalContext from '../context';\r\n\r\nexport const AuthRoute = ({ path, component: Component }) => {\r\n  const { session } = useContext(GlobalContext);\r\n\r\n  const loggedIn = session && session.userId !== null;\r\n\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={(props) =>\r\n        loggedIn ? <Redirect to='/dashboard' /> : <Component {...props} />\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport const ProtectedRoute = ({ path, component: Component }) => {\r\n  const { session } = useContext(GlobalContext);\r\n  const loggedIn = session && session.userId !== null;\r\n\r\n  return (\r\n    <Route\r\n      path={path}\r\n      render={(props) =>\r\n        loggedIn ? <Component {...props} /> : <Redirect to='/login' />\r\n      }\r\n    />\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport styled, { createGlobalStyle } from 'styled-components/macro';\r\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport { Home, Movie, SignUp, Login, Dashboard } from './screens';\r\nimport { Toast } from './components';\r\nimport { AuthRoute, ProtectedRoute } from './util/routes';\r\nimport { checkLoggedIn } from './util/session';\r\nimport { fetchWatchList } from './services/session';\r\nimport GlobalContext from './context';\r\nimport axios from 'axios';\r\nimport MoonLoader from 'react-spinners/MoonLoader';\r\nimport { ReactQueryDevtools } from 'react-query-devtools';\r\n\r\nfunction App() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [errors, setErrors] = useState('');\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [session, setSession] = useState({ userId: null, username: null });\r\n  const [watchList, setWatchList] = useState([]);\r\n  const [movieBaseURL, setMovieBaseURL] = useState(null);\r\n  const [isMenuActive, setIsMenuActive] = useState(false);\r\n  const [toastStatus, setToastStatus] = useState({\r\n    isActive: false,\r\n    type: null,\r\n    message: null\r\n  });\r\n  const [currentScreen, setCurrentScreen] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const checkLoggedInState = async () => {\r\n      const preLoadedState = await checkLoggedIn();\r\n      if (Object.keys(preLoadedState).length > 0) {\r\n        setSession(preLoadedState.session);\r\n        setIsLoggedIn(true);\r\n      }\r\n      setIsLoading(false);\r\n    };\r\n\r\n    const getConfig = async () => {\r\n      const response = await axios.get('/api/movies/configuration');\r\n      const {\r\n        data: {\r\n          images: { secure_base_url }\r\n        }\r\n      } = response;\r\n\r\n      if (secure_base_url) {\r\n        setMovieBaseURL(secure_base_url);\r\n      }\r\n    };\r\n\r\n    checkLoggedInState();\r\n    getConfig();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (session.userId && session.username) {\r\n      const handleFetchWatchList = async () => {\r\n        await fetchWatchList(setWatchList).catch((err) => console.log(err));\r\n        setIsLoading(false);\r\n      };\r\n      handleFetchWatchList();\r\n    }\r\n  }, [session]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container>\r\n        <LoaderContainer>\r\n          <MoonLoader color='#fff' css='opacity: 1;' />\r\n        </LoaderContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ReactQueryDevtools initialIsOpen={false} />\r\n      <GlobalContext.Provider\r\n        value={{\r\n          errors,\r\n          setErrors,\r\n          isLoggedIn,\r\n          setIsLoggedIn,\r\n          session,\r\n          setSession,\r\n          watchList,\r\n          setWatchList,\r\n          movieBaseURL,\r\n          isMenuActive,\r\n          setIsMenuActive,\r\n          toastStatus,\r\n          setToastStatus,\r\n          currentScreen,\r\n          setCurrentScreen\r\n        }}>\r\n        <GlobalStyle />\r\n        <Toast />\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path='/' component={Home} />\r\n            <Route path='/movie/:movieId' component={Movie} />\r\n            <AuthRoute path='/signup' component={SignUp} />\r\n            <AuthRoute path='/login' component={Login} />\r\n            <ProtectedRoute path='/dashboard' component={Dashboard} />\r\n          </Switch>\r\n        </Router>\r\n      </GlobalContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html {\r\n    height: 100%;\r\n    width: 100%;\r\n    overflow-y: auto;\r\n    font-size: 62.5%;\r\n\t  font-family: 'Roboto', 'Montserrat', sans-serif;\r\n  }\r\n\r\n  body {\r\n    height: 100%;\r\n    width: 100%;\r\n    margin: 0;\r\n    background: #000;\r\n    overflow: hidden;\r\n    box-sizing: border-box;\r\n  }\r\n\r\n\r\n  *, *:before, *:after {\r\n  box-sizing: inherit;\r\n    }\r\n\r\n  #root {\r\n    height: 100%;\r\n    width: 100%;\r\n    position: relative;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 3.2rem;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 2.4rem;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 2.08rem;\r\n  }\r\n\r\n  p, span, a {\r\n    font-size: 1.6rem;\r\n  }\r\n\r\n  input, label {\r\n    font-size: 2rem\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: inherit;\r\n  }\r\n\r\n  button {\r\n    font-family: inherit;\r\n  }\r\n  `;\r\n\r\nconst Container = styled.div`\r\n  height: 100vh;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: stretch;\r\n  background: linear-gradient(\r\n    0deg,\r\n    rgba(0, 0, 0, 1) 0%,\r\n    rgba(0, 0, 0, 1) 75%,\r\n    rgba(98, 98, 98, 1) 100%\r\n  );\r\n  background-repeat: no-repeat;\r\n  overflow: auto;\r\n`;\r\n\r\nconst LoaderContainer = styled.div`\r\n  margin-top: auto;\r\n  margin-bottom: auto;\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\n// suppress console log statements in production\n\nif (process.env.NODE_ENV !== 'development') {\n  console.log = () => {};\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}